<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>

    <extension point="org.eclipse.ui.views">
        <category name="Simple Eddy" id="com.se.simplicity.editor.views" />
        
        <view category="com.se.simplicity.editor.views" class="com.se.simplicity.editor.ui.views.SceneOutlineView" icon="icons/simple eddy.gif"
            id="com.se.simplicity.editor.ui.views.SceneOutlineView" name="Scene Outline" />

        <view category="com.se.simplicity.editor.views" class="com.se.simplicity.editor.ui.views.SceneComponentView" icon="icons/simple eddy.gif"
            id="com.se.simplicity.editor.ui.views.SceneComponentView" name="Component Details" />
    </extension>

    <extension point="org.eclipse.ui.editors">
        <editor class="com.se.simplicity.editor.ui.editors.VisualSceneEditor" default="false" extensions="sss" icon="icons/simple eddy.gif"
            id="com.se.simplicity.editor.ui.editors.VisualSceneEditor" name="Scene Editor (Visual Only)" />

        <editor class="com.se.simplicity.editor.ui.editors.MultiPageSceneEditor" default="true" extensions="sss" icon="icons/simple eddy.gif"
            id="com.se.simplicity.editor.ui.editors.MultiPageSceneEditor" name="Scene Editor" />
    </extension>

    <extension point="org.eclipse.ui.perspectives">
        <perspective class="com.se.simplicity.editor.ui.perspectives.EditorPerspective" icon="icons/simple eddy.gif"
            id="com.se.simplicity.editor.ui.perspectives.EditorPerspective" name="Simple Eddy" />
    </extension>

    <extension point="org.eclipse.ui.menus">
        <menuContribution locationURI="menu:org.eclipse.ui.main.menu?after=edit">
            <menu id="com.se.simplicity.editor.menus.visual" label="Visual" mnemonic="V">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="com.se.simplicity.editor.definition.sceneEditorSelected">
                    </reference>
                </visibleWhen>

                <menu id="com.se.simplicity.editor.menus.visual.drawing" label="Drawing Mode" mnemonic="D">
                    <command commandId="com.se.simplicity.editor.commands.vertices" id="com.se.simplicity.editor.menus.visual.drawing.vertices"
                        mnemonic="V" />
                    <command commandId="com.se.simplicity.editor.commands.edges" id="com.se.simplicity.editor.menus.visual.drawing.edges"
                        mnemonic="E" />
                    <command commandId="com.se.simplicity.editor.commands.faces" id="com.se.simplicity.editor.menus.visual.drawing.faces"
                        mnemonic="F" />
                </menu>

                <menu id="com.se.simplicity.editor.menus.visual.edit" label="Editing Mode" mnemonic="E">
                    <command commandId="com.se.simplicity.editor.commands.translation" id="com.se.simplicity.editor.menus.visual.edit.translation"
                        mnemonic="T" />
                    <command commandId="com.se.simplicity.editor.commands.rotation" id="com.se.simplicity.editor.menus.visual.edit.rotation"
                        mnemonic="R" />
                </menu>
            </menu>
        </menuContribution>

        <menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
            <toolbar id="com.se.simplicity.editor.toolbars.drawing">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="com.se.simplicity.editor.definition.sceneEditorSelected">
                    </reference>
                </visibleWhen>

                <command commandId="com.se.simplicity.editor.commands.vertices" icon="icons/vertices.gif" id="com.se.simplicity.editor.toolbars.drawing.vertices"
                    tooltip="Vertices" />
                <command commandId="com.se.simplicity.editor.commands.edges" icon="icons/edges.gif" id="com.se.simplicity.editor.toolbars.drawing.edges"
                    tooltip="Edges" />
                <command commandId="com.se.simplicity.editor.commands.faces" icon="icons/faces.gif" id="com.se.simplicity.editor.toolbars.drawing.faces"
                    tooltip="Faces" />
            </toolbar>
        </menuContribution>

        <menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
            <toolbar id="com.se.simplicity.editor.toolbars.edit">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="com.se.simplicity.editor.definition.sceneEditorSelected" />
                </visibleWhen>
                
                <command commandId="com.se.simplicity.editor.commands.translation" icon="icons/translation.gif" id="com.se.simplicity.editor.toolbars.edit.translation"
                    tooltip="Translation" />
                <command commandId="com.se.simplicity.editor.commands.rotation" icon="icons/rotation.gif" id="com.se.simplicity.editor.toolbars.edit.rotation"
                    tooltip="Rotation" />
            </toolbar>
        </menuContribution>
    </extension>

    <extension point="org.eclipse.ui.commands">
        <category id="com.se.simplicity.editor.commands" name="Simple Eddy" />

        <command categoryId="com.se.simplicity.editor.commands" id="com.se.simplicity.editor.commands.vertices" name="Vertices" />
        <command categoryId="com.se.simplicity.editor.commands" id="com.se.simplicity.editor.commands.edges" name="Edges" />
        <command categoryId="com.se.simplicity.editor.commands" id="com.se.simplicity.editor.commands.faces" name="Faces" />

        <command categoryId="com.se.simplicity.editor.commands" id="com.se.simplicity.editor.commands.translation" name="Translation" />
        <command categoryId="com.se.simplicity.editor.commands" id="com.se.simplicity.editor.commands.rotation" name="Rotation" />
    </extension>

    <extension point="org.eclipse.ui.handlers">
        <handler class="com.se.simplicity.editor.handlers.VerticesHandler" commandId="com.se.simplicity.editor.commands.vertices" />
        <handler class="com.se.simplicity.editor.handlers.EdgesHandler" commandId="com.se.simplicity.editor.commands.edges" />
        <handler class="com.se.simplicity.editor.handlers.FacesHandler" commandId="com.se.simplicity.editor.commands.faces" />

        <handler class="com.se.simplicity.editor.handlers.TranslationHandler" commandId="com.se.simplicity.editor.commands.translation" />
        <handler class="com.se.simplicity.editor.handlers.RotationHandler" commandId="com.se.simplicity.editor.commands.rotation" />
    </extension>

    <extension point="org.eclipse.core.contenttype.contentTypes">
        <content-type id="com.se.simplicity.editor.sss" name="Simple Scene Source" base-type="org.eclipse.core.runtime.xml" file-extensions="sss" />
        <content-type id="com.se.simplicity.editor.ssb" name="Simple Scene Binary" file-extensions="ssb" />
    </extension>

    <extension point="org.eclipse.core.expressions.definitions">
        <definition id="com.se.simplicity.editor.definition.sceneEditorSelected">
            <with variable="activePart">
                <instanceof value="com.se.simplicity.editor.ui.editors.SceneEditor" />
            </with>
        </definition>
    </extension>

</plugin>
